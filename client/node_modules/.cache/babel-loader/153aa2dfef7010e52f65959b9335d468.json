{"ast":null,"code":"import _slicedToArray from\"C:/Users/OM V. PATEL/Desktop/MY PROJECT/granthalaya/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useContext,useRef,useEffect,useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import{UserContext}from\"../App\";import M from\"materialize-css\";import Logo from\"../assets/logo3.jpg\";import om from\"../assets/logo1.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(_ref){var data=_ref.data,addToCart=_ref.addToCart,user=_ref.user,setUser=_ref.setUser,seller=_ref.seller,setseller=_ref.setseller;var searchModal=useRef(null);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),bookDetails=_useState4[0],setBookDetails=_useState4[1];var history=useHistory();useEffect(function(){M.Modal.init(searchModal.current);},[]);var renderList=function renderList(){if(user||seller){return[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"i\",{\"data-target\":\"modal1\",className:\"large material-icons modal-trigger\",style:{color:\"black\",cursor:\"pointer\"},children:\"search\"})},\"6\"),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{exact:true,to:\"/cart\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"shopping_cart\"})})},\"7\"),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn #c62828 red darken-3\",onClick:function onClick(){localStorage.removeItem(\"jwt\");localStorage.removeItem(\"user\");localStorage.removeItem(\"seller\");history.push(\"/\");setUser(\"\");setseller(\"\");M.toast({html:\"You are Logged Out\",classes:\"#c62828 red darken-3\"});},children:\"Logout\"})},\"8\")];}else{return[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"i\",{\"data-target\":\"modal1\",className:\"large material-icons modal-trigger\",style:{color:\"black\"},children:\"search\"})},\"1\"),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Signin as User\"})},\"2\"),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"SignUp as User\"})},\"3\"),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signinseller\",children:\"Signin as seller\"})},\"4\"),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signupseller\",children:\"SignUp as seller\"})},\"5\")];}};var fetchUsers=function fetchUsers(query){setSearch(query);fetch(\"/search-books\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({query:query})}).then(function(res){return res.json();}).then(function(results){setBookDetails(results.book);});};return/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-wrapper white\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"brand-logo left\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"style\",src:Logo,width:\"100\",alt:\"E-Book-Sale\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"p\",{style:{height:\"fit-content\",margin:\"0px\",color:\"SpringGreen\"},children:\" welcome to \\u0A97\\u0ACD\\u0AB0\\u0A82\\u0AA5\\u0ABE\\u0AB2\\u0AAF\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"style\",src:om,width:\"100\",alt:\"E-Book-Sale\"})})]})}),/*#__PURE__*/_jsx(\"ul\",{id:\"nav-mobile\",className:\"right\",children:renderList()})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"modal1\",className:\"modal\",ref:searchModal,style:{color:\"black\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search Books\",value:search,onChange:function onChange(e){return fetchUsers(e.target.value);}}),/*#__PURE__*/_jsx(\"ul\",{className:\"collection\",children:bookDetails.map(function(item){return/*#__PURE__*/_jsx(\"div\",{// to={\"/book/\" + item._id}\nonClick:function onClick(){M.Modal.getInstance(searchModal.current).close();setSearch(\"\");},children:/*#__PURE__*/_jsxs(\"div\",{className:\"collection-item\",children:[/*#__PURE__*/_jsx(\"p\",{children:item.title}),localStorage.getItem(\"user\")&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addToCart(item._id);},children:\"ADD TO CART\"})]})});})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"modal-close waves-effect waves-green btn-flat\",onClick:function onClick(){return setSearch(\"\");},children:\"close\"})})]})]});};export default Navbar;","map":{"version":3,"names":["React","useContext","useRef","useEffect","useState","Link","useHistory","UserContext","M","Logo","om","Navbar","data","addToCart","user","setUser","seller","setseller","searchModal","search","setSearch","bookDetails","setBookDetails","history","Modal","init","current","renderList","color","cursor","localStorage","removeItem","push","toast","html","classes","fetchUsers","query","fetch","method","headers","body","JSON","stringify","then","res","json","results","book","height","margin","e","target","value","map","item","getInstance","close","title","getItem","_id"],"sources":["C:/Users/OM V. PATEL/Desktop/MY PROJECT/granthalaya/client/src/components/Navbar.js"],"sourcesContent":["import React from \"react\";\nimport { useContext, useRef, useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../App\";\nimport M from \"materialize-css\";\nimport Logo from \"../assets/logo3.jpg\";\nimport om from \"../assets/logo1.jpg\"\nconst Navbar = ({ data, addToCart, user, setUser, seller, setseller }) => {\n  const searchModal = useRef(null);\n  const [search, setSearch] = useState(\"\");\n  const [bookDetails, setBookDetails] = useState([]);\n  const history = useHistory();\n  useEffect(() => {\n    M.Modal.init(searchModal.current);\n  }, []);\n\n  const renderList = () => {\n    if (user || seller) {\n      return [\n        <li key=\"6\">\n          <i\n            data-target=\"modal1\"\n            className=\"large material-icons modal-trigger\"\n            style={{ color: \"black\", cursor: \"pointer\" }}\n          >\n            search\n          </i>\n        </li>,\n        <li key=\"7\">\n          <Link exact to=\"/cart\">\n            <i className=\"material-icons\">shopping_cart</i>\n          </Link>\n        </li>,\n        <li key=\"8\">\n          <button\n            className=\"btn #c62828 red darken-3\"\n            onClick={() => {\n              localStorage.removeItem(\"jwt\");\n              localStorage.removeItem(\"user\");\n              localStorage.removeItem(\"seller\");\n              history.push(\"/\");\n              setUser(\"\");\n              setseller(\"\");\n              M.toast({\n                html: \"You are Logged Out\",\n                classes: \"#c62828 red darken-3\",\n              });\n            }}\n          >\n            Logout\n          </button>\n        </li>,\n      ];\n    } else {\n      return [\n      \n        <li key=\"1\">\n          <i\n            data-target=\"modal1\"\n            className=\"large material-icons modal-trigger\"\n            style={{ color: \"black\" }}\n          >\n            search\n          </i>\n        </li>,\n        <li key=\"2\">\n          <Link to=\"/signin\">Signin as User</Link>\n        </li>,\n        <li key=\"3\">\n          <Link to=\"/signup\">SignUp as User</Link>\n        </li>,\n        <li key=\"4\">\n          <Link to=\"/signinseller\">Signin as seller</Link>\n        </li>,\n        <li key=\"5\">\n          <Link to=\"/signupseller\">SignUp as seller</Link>\n        </li>,\n      ];\n    }\n  };\n\n  const fetchUsers = (query) => {\n    setSearch(query);\n    fetch(\"/search-books\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        query,\n      }),\n    })\n      .then((res) => res.json())\n      .then((results) => {\n        setBookDetails(results.book);\n      });\n  };\n\n  return (\n    <nav>\n      <div className=\"nav-wrapper white\">\n      \n        <Link to=\"/\" className=\"brand-logo left\">\n          <ul>\n          <li>\n          \n          <img className=\"style\" src={Logo} width=\"100\" alt=\"E-Book-Sale\" />\n\n          </li>\n          <li>\n          <p style={{ height:\"fit-content\",margin:\"0px\", color:\"SpringGreen\"}}> welcome to ગ્રંથાલય</p>\n          </li>\n          <li>\n          <img className=\"style\" src={om} width=\"100\"  alt=\"E-Book-Sale\" />\n          </li>\n          </ul>\n        </Link>\n  \n        <ul id=\"nav-mobile\" className=\"right\">\n      \n          {renderList()}\n        </ul>\n        \n      </div>\n    \n      <div\n        id=\"modal1\"\n        className=\"modal\"\n        ref={searchModal}\n        style={{ color: \"black\" }}\n      >\n        <div className=\"modal-content\">\n          <input\n            type=\"text\"\n            placeholder=\"Search Books\"\n            value={search}\n            onChange={(e) => fetchUsers(e.target.value)}\n          />\n          <ul className=\"collection\">\n            {bookDetails.map((item) => {\n              return (\n                <div\n                  // to={\"/book/\" + item._id}\n                  onClick={() => {\n                    M.Modal.getInstance(searchModal.current).close();\n                    setSearch(\"\");\n                  }}\n                >\n                  <div className=\"collection-item\">\n                    <p>{item.title}</p>\n                    {localStorage.getItem(\"user\") && (\n                      <button onClick={() => addToCart(item._id)}>\n                        ADD TO CART\n                      </button>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </ul>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"modal-close waves-effect waves-green btn-flat\"\n            onClick={() => setSearch(\"\")}\n          >\n            close\n          </button>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}