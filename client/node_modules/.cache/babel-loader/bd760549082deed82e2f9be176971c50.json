{"ast":null,"code":"import _slicedToArray from\"C:/Users/OM V. PATEL/Desktop/for Deployment/granthalaya/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Order=function Order(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var Obj=JSON.parse(localStorage.getItem(\"seller\"));var id=Obj._id;console.log(id);axios.post(\"/order\",{id:id}).then(function(response){console.log(response.data.order);setData(response.data.order);}).catch(function(error){console.log(error);}).then(function(){console.log(data);});},[]);var acceptOrder=function acceptOrder(id){var order=data.filter(function(bookOrder){return bookOrder._id==id;});var currseller=JSON.parse(localStorage.getItem(\"seller\"));var _id=currseller._id;axios.put(\"\".concat(window.location.origin,\"/selectorder\"),{_id:_id,order:order}).then(function(response){console.log(response.data.order);setData(response.data.order);}).catch(function(error){console.log(error);}).then(function(){console.log(data);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:\"Pending Orders\"}),/*#__PURE__*/_jsx(\"div\",{className:\"main-container\",children:data.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"default img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontWeight:\"bold\"},children:item.title}),/*#__PURE__*/_jsx(\"h6\",{style:{fontWeight:\"bold\"},children:item.category}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Name : \",item.firstName,\" \",item.lastName]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email : \",item.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Address : \",item.address]}),/*#__PURE__*/_jsx(\"h6\",{style:{color:\"green\"},children:\"20% OFF\"}),/*#__PURE__*/_jsxs(\"h5\",{style:{fontWeight:\"bold\"},children:[item.price,\" Rs.\"]}),localStorage.getItem(\"seller\")&&/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:function onClick(){return acceptOrder(item._id);},children:\"Accept Order\"})]})]},item._id);})})]});};export default Order;","map":{"version":3,"names":["React","useState","useEffect","axios","Order","data","setData","Obj","JSON","parse","localStorage","getItem","id","_id","console","log","post","then","response","order","catch","error","acceptOrder","filter","bookOrder","currseller","put","window","location","origin","textAlign","map","item","image","fontWeight","title","category","firstName","lastName","email","address","color","price"],"sources":["C:/Users/OM V. PATEL/Desktop/for Deployment/granthalaya/client/src/components/Order.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst Order = () => {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    let Obj = JSON.parse(localStorage.getItem(\"seller\"));\n    const id = Obj._id;\n    console.log(id);\n    axios\n      .post(\"/order\", {\n        id: id,\n      })\n      .then(function (response) {\n        console.log(response.data.order);\n        setData(response.data.order);\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n      .then(function () {\n        console.log(data);\n      });\n  }, []);\n\n  const acceptOrder = (id) => {\n    let order = data.filter((bookOrder) => {\n      return bookOrder._id == id;\n    });\n    let currseller = JSON.parse(localStorage.getItem(\"seller\"));\n    let _id = currseller._id;\n    axios\n      .put(`${window.location.origin}/selectorder`, {\n        _id: _id,\n        order: order,\n      })\n      .then(function (response) {\n        console.log(response.data.order);\n        setData(response.data.order);\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n      .then(function () {\n        console.log(data);\n      });\n  };\n\n  return (\n    <>\n      <h2 style={{ textAlign: \"center\" }}>Pending Orders</h2>\n      <div className=\"main-container\">\n        {data.map((item) => {\n          return (\n            <div className=\"container\" key={item._id}>\n              <div className=\"header\">\n                <img src={item.image} alt=\"default img\" />\n              </div>\n              <div className=\"content\">\n                <h4 style={{ fontWeight: \"bold\" }}>{item.title}</h4>\n                <h6 style={{ fontWeight: \"bold\" }}>{item.category}</h6>\n                <p>\n                  Name : {item.firstName} {item.lastName}\n                </p>\n                <p>Email : {item.email}</p>\n                <p>Address : {item.address}</p>\n                <h6 style={{ color: \"green\" }}>20% OFF</h6>\n                <h5 style={{ fontWeight: \"bold\" }}>{item.price} Rs.</h5>\n                {localStorage.getItem(\"seller\") && (\n                  <button type=\"submit\" onClick={() => acceptOrder(item._id)}>\n                    Accept Order\n                  </button>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </>\n  );\n};\n\nexport default Order;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}